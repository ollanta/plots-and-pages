var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function s(t,e,n,r,o,a,s){const c=function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(e,r,o,a);if(c){const o=i(e,n,r,s);t.p(o,c)}}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function $(){return d(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){t.value=null==e?"":e}function g(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let y;function x(t){y=t}const b=[],v=[],k=[],w=[],_=Promise.resolve();let A=!1;function E(t){k.push(t)}function T(t){w.push(t)}let L=!1;const O=new Set;function j(){if(!L){L=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];x(e),C(e.$$)}for(x(null),b.length=0;v.length;)v.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];O.has(e)||(O.add(e),e())}k.length=0}while(b.length);for(;w.length;)w.pop()();A=!1,L=!1,O.clear()}}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const M=new Set;let R;function P(t,e){t&&t.i&&(M.delete(t),t.i(e))}function N(t,e,n,r){if(t&&t.o){if(M.has(t))return;M.add(t),R.c.push((()=>{M.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function S(t,e){N(t,1,1,(()=>{e.delete(t.key)}))}function z(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function q(t){t&&t.c()}function B(t,n,a){const{fragment:i,on_mount:s,on_destroy:c,after_update:u}=t.$$;i&&i.m(n,a),E((()=>{const n=s.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(E)}function D(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,e){-1===t.$$.dirty[0]&&(b.push(t),A||(A=!0,_.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(e,o,a,i,s,c,u=[-1]){const f=y;x(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let $=!1;if(d.ctx=a?a(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),$&&V(e,t)),n})):[],d.update(),$=!0,r(d.before_update),d.fragment=!!i&&i(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(l)}else d.fragment&&d.fragment.c();o.intro&&P(e.$$.fragment),B(e,o.target,o.anchor),j()}x(f)}class F{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(e){let n,r,o,a,i,s;return{c(){n=f("script"),o=$(),a=f("div"),n.src!==(r="https://cdn.plot.ly/plotly-latest.min.js")&&m(n,"src","https://cdn.plot.ly/plotly-latest.min.js"),m(a,"id","plotly-graph")},m(t,r){c(document.head,n),u(t,o,r),u(t,a,r),i||(s=p(n,"load",e[0]),i=!0)},p:t,i:t,o:t,d(t){l(n),t&&l(o),t&&l(a),i=!1,s()}}}function H(t,e,n){let{data:r}=e,{layout:o}=e;var a;let i;return t.$$set=t=>{"data"in t&&n(1,r=t.data),"layout"in t&&n(2,o=t.layout)},t.$$.update=()=>{30&t.$$.dirty&&a&&(clearTimeout(i),n(4,i=setTimeout((()=>{Plotly.react("plotly-graph",r,o)}),500)))},[function(){Plotly.newPlot("plotly-graph",r,o),n(3,a=!0)},r,o,a,i]}class I extends F{constructor(t){super(),Y(this,t,H,G,a,{data:1,layout:2})}}function J(t){let e,n;return e=new I({props:{data:t[0],layout:t[1]}}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.data=t[0]),2&n&&(r.layout=t[1]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function K(t){var e=["blue","red","green"],n={};return t.forEach((function(t){n[t.name]||(n[t.name]=e.pop()),t.color=n[t.name]})),{rects:t.map((function(t){return{type:"rect",xref:"x",yref:"paper",x0:t.start,x1:t.end,y0:0,y1:.1,line:{width:0},fillcolor:t.color,opacity:.3}})),colorMap:n}}function Q(t,e,n){let{LeftAxis:r}=e,{RightAxis:o}=e,{Observations:a}=e,{Treatments:i}=e;var s,c,u=r.tables[0];return t.$$set=t=>{"LeftAxis"in t&&n(2,r=t.LeftAxis),"RightAxis"in t&&n(3,o=t.RightAxis),"Observations"in t&&n(4,a=t.Observations),"Treatments"in t&&n(5,i=t.Treatments)},t.$$.update=()=>{if(44&t.$$.dirty){o.tables.forEach((t=>t.yaxis="y2"));var e=K(i).colorMap,l=Object.keys(e).map((function(t){return{x:u.x,y:u.y,showlegend:!0,visible:"legendonly",opacity:.8,mode:"markers",marker:{color:e[t],symbol:"square",size:15},name:t}}));n(0,s=[...r.tables,...o.tables,{x:u.x,y:u.y,xaxis:"x2",showlegend:!1,opacity:0}].concat(l))}if(60&t.$$.dirty){var f={lines:($=a).map((function(t){return{type:"line",xref:"x",yref:"paper",x0:t.time,x1:t.time,y0:0,y1:1,line:{width:2,dash:"dash"}}})),times:$.map((function(t){return t.time})),names:$.map((function(t){return t.name}))},d=K(i).rects;n(1,c={xaxis:{side:"top",tickformat:"%Y-%m-%d"},xaxis2:{side:"bottom",overlaying:"x",matches:"x",tickvals:f.times,ticktext:f.names,showgrid:!1,tickangle:90},yaxis:{title:r.legend,rangemode:"tozero"},yaxis2:{title:o.legend,side:"right",overlaying:"y",rangemode:"tozero"},legend:{itemclick:!1,itemdoubleclick:!1},shapes:f.lines.concat(d)})}var $},[s,c,r,o,a,i]}class U extends F{constructor(t){super(),Y(this,t,Q,J,a,{LeftAxis:2,RightAxis:3,Observations:4,Treatments:5})}}function W(e){let n,r,o;return{c(){n=f("textarea")},m(t,a){u(t,n,a),h(n,e[0]),r||(o=p(n,"input",e[2]),r=!0)},p(t,[e]){1&e&&h(n,t[0])},i:t,o:t,d(t){t&&l(n),r=!1,o()}}}function X(t,e,n){let{table:r=[]}=e;var o=r.map((function(t){return t.join(",")})).join("\n");return t.$$set=t=>{"table"in t&&n(1,r=t.table)},t.$$.update=()=>{if(1&t.$$.dirty){var e=o.trim().split("\n");n(1,r=e.map((function(t){return t.split(",")})))}},[o,r,function(){o=this.value,n(0,o)}]}class Z extends F{constructor(t){super(),Y(this,t,X,W,a,{table:1})}}function tt(t){let e,n,r,o,a,d,m,g,y;const x=t[4].default,b=function(t,e,n,r){if(t){const o=i(t,e,n,r);return t[0](o)}}(x,t,t[3],null);function k(e){t[6](e)}let w={};return void 0!==t[1]&&(w.table=t[1]),a=new Z({props:w}),v.push((()=>z(a,"table",k))),{c(){e=f("div"),n=f("input"),r=$(),b&&b.c(),o=$(),q(a.$$.fragment)},m(i,s){u(i,e,s),c(e,n),h(n,t[0]),c(e,r),b&&b.m(e,null),u(i,o,s),B(a,i,s),m=!0,g||(y=p(n,"input",t[5]),g=!0)},p(t,[e]){1&e&&n.value!==t[0]&&h(n,t[0]),b&&b.p&&8&e&&s(b,x,t,t[3],e,null,null);const r={};!d&&2&e&&(d=!0,r.table=t[1],T((()=>d=!1))),a.$set(r)},i(t){m||(P(b,t),P(a.$$.fragment,t),m=!0)},o(t){N(b,t),N(a.$$.fragment,t),m=!1},d(t){t&&l(e),b&&b.d(t),t&&l(o),D(a,t),g=!1,y()}}}function et(t,e,n){let{$$slots:r={},$$scope:o}=e,{data:a}=e,i=a.name,s=a.x.map((function(t,e){return[t,a.y[e]]}));return t.$$set=t=>{"data"in t&&n(2,a=t.data),"$$scope"in t&&n(3,o=t.$$scope)},t.$$.update=()=>{if(2&t.$$.dirty){var e=function(t){var e={x:[],y:[]};return t.forEach((function(t){t.length>=2&&(e.x.push(t[0]),e.y.push(Number(t[1])))})),e}(s);n(2,a.x=e.x,a),n(2,a.y=e.y,a)}1&t.$$.dirty&&n(2,a.name=i,a)},[i,s,a,o,r,function(){i=this.value,n(0,i)},function(t){s=t,n(1,s)}]}class nt extends F{constructor(t){super(),Y(this,t,et,tt,a,{data:2})}}function rt(t,e,n){const r=t.slice();return r[9]=e[n],r[10]=e,r[11]=n,r}function ot(t){let e,n,r,o,a;function i(){return t[5](t[11])}return{c(){e=f("button"),n=d("-"),e.disabled=r=1==t[0].tables.length},m(t,r){u(t,e,r),c(e,n),o||(a=p(e,"click",i),o=!0)},p(n,o){t=n,1&o&&r!==(r=1==t[0].tables.length)&&(e.disabled=r)},d(t){t&&l(e),o=!1,a()}}}function at(t,e){let n,r,o,a;function i(t){e[6](t,e[9],e[10],e[11])}let s={$$slots:{default:[ot]},$$scope:{ctx:e}};return void 0!==e[9]&&(s.data=e[9]),r=new nt({props:s}),v.push((()=>z(r,"data",i))),{key:t,first:null,c(){n=d(""),q(r.$$.fragment),this.first=n},m(t,e){u(t,n,e),B(r,t,e),a=!0},p(t,n){e=t;const a={};4097&n&&(a.$$scope={dirty:n,ctx:e}),!o&&1&n&&(o=!0,a.data=e[9],T((()=>o=!1))),r.$set(a)},i(t){a||(P(r.$$.fragment,t),a=!0)},o(t){N(r.$$.fragment,t),a=!1},d(t){t&&l(n),D(r,t)}}}function it(t){let e,n,o,a,i,s,c,d,m,g=[],y=new Map,x=t[0].tables;const b=t=>t[9].id;for(let e=0;e<x.length;e+=1){let n=rt(t,x,e),r=b(n);y.set(r,g[e]=at(r,n))}return{c(){e=f("input"),n=$();for(let t=0;t<g.length;t+=1)g[t].c();o=$(),a=f("button"),a.textContent="+",i=$(),s=f("hr")},m(r,l){u(r,e,l),h(e,t[1]),u(r,n,l);for(let t=0;t<g.length;t+=1)g[t].m(r,l);u(r,o,l),u(r,a,l),u(r,i,l),u(r,s,l),c=!0,d||(m=[p(e,"input",t[4]),p(a,"click",t[2])],d=!0)},p(t,[n]){2&n&&e.value!==t[1]&&h(e,t[1]),9&n&&(x=t[0].tables,R={r:0,c:[],p:R},g=function(t,e,n,r,o,a,i,s,c,u,l,f){let d=t.length,$=a.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const h=[],g=new Map,y=new Map;for(p=$;p--;){const t=f(o,a,p),s=n(t);let c=i.get(s);c?r&&c.p(t,e):(c=u(s,t),c.c()),g.set(s,h[p]=c),s in m&&y.set(s,Math.abs(p-m[s]))}const x=new Set,b=new Set;function v(t){P(t,1),t.m(s,l),i.set(t.key,t),l=t.first,$--}for(;d&&$;){const e=h[$-1],n=t[d-1],r=e.key,o=n.key;e===n?(l=e.first,d--,$--):g.has(o)?!i.has(r)||x.has(r)?v(e):b.has(o)?d--:y.get(r)>y.get(o)?(b.add(r),v(e)):(x.add(o),d--):(c(n,i),d--)}for(;d--;){const e=t[d];g.has(e.key)||c(e,i)}for(;$;)v(h[$-1]);return h}(g,n,b,1,t,x,y,o.parentNode,S,at,o,rt),R.r||r(R.c),R=R.p)},i(t){if(!c){for(let t=0;t<x.length;t+=1)P(g[t]);c=!0}},o(t){for(let t=0;t<g.length;t+=1)N(g[t]);c=!1},d(t){t&&l(e),t&&l(n);for(let e=0;e<g.length;e+=1)g[e].d(t);t&&l(o),t&&l(a),t&&l(i),t&&l(s),d=!1,r(m)}}}function st(t,e,n){let{data:r}=e,o=r.legend;var a=1;function i(t){return r.tables.some((e=>e.name==t))?i(t+"'"):t}function s(t){r.tables.splice(t,1),n(0,r),n(1,o)}r.tables.forEach((t=>t.id=a++));return t.$$set=t=>{"data"in t&&n(0,r=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r.legend=o,r)},[r,o,function(){n(0,r.tables=[...r.tables,{x:[],y:[],name:i("new"),id:a++}],r)},s,function(){o=this.value,n(1,o)},t=>s(t),function(t,e,a,i){a[i]=t,n(0,r),n(1,o)}]}class ct extends F{constructor(t){super(),Y(this,t,st,it,a,{data:0})}}function ut(t){let e,n,r;function o(e){t[3](e)}let a={};return void 0!==t[0]&&(a.table=t[0]),e=new Z({props:a}),v.push((()=>z(e,"table",o))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),r=!0},p(t,[r]){const o={};!n&&1&r&&(n=!0,o.table=t[0],T((()=>n=!1))),e.$set(o)},i(t){r||(P(e.$$.fragment,t),r=!0)},o(t){N(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function lt(t,e,n){let{data:r}=e,{keys:o}=e,a=r.map((function(t){return o.map((function(e){return t[e]}))}));return t.$$set=t=>{"data"in t&&n(1,r=t.data),"keys"in t&&n(2,o=t.keys)},t.$$.update=()=>{var e;1&t.$$.dirty&&n(1,(e=[],a.forEach((function(t){if(t.length==o.length){var n={};t.forEach((function(t,e){n[o[e]]=t})),e.push(n)}})),r=e))},[a,r,o,function(t){a=t,n(0,a)}]}class ft extends F{constructor(t){super(),Y(this,t,lt,ut,a,{data:1,keys:2})}}function dt(t){let e,n,r,o,a,i,s,d,p,m,h,y,x,b,k,w,_,A,E,L,O,j,C,M,R;function S(e){t[4](e)}let V={};function Y(e){t[5](e)}void 0!==t[0]&&(V.data=t[0]),a=new ct({props:V}),v.push((()=>z(a,"data",S)));let F={};function G(e){t[6](e)}void 0!==t[1]&&(F.data=t[1]),m=new ct({props:F}),v.push((()=>z(m,"data",Y)));let H={keys:["name","time"]};function I(e){t[7](e)}void 0!==t[2]&&(H.data=t[2]),k=new ft({props:H}),v.push((()=>z(k,"data",G)));let J={keys:["name","start","end"]};return void 0!==t[3]&&(J.data=t[3]),L=new ft({props:J}),v.push((()=>z(L,"data",I))),M=new U({props:{LeftAxis:t[0],RightAxis:t[1],Observations:t[2],Treatments:t[3]}}),{c(){e=f("div"),n=f("div"),r=f("h3"),r.textContent="Left axis data",o=$(),q(a.$$.fragment),s=$(),d=f("h3"),d.textContent="Right axis data",p=$(),q(m.$$.fragment),y=$(),x=f("h3"),x.textContent="Observations",b=$(),q(k.$$.fragment),_=$(),A=f("h3"),A.textContent="Treatments",E=$(),q(L.$$.fragment),j=$(),C=f("div"),q(M.$$.fragment),g(n,"display","flex"),g(n,"flex-direction","column"),g(n,"flex","20%"),g(C,"flex","70%"),g(e,"display","flex")},m(t,i){u(t,e,i),c(e,n),c(n,r),c(n,o),B(a,n,null),c(n,s),c(n,d),c(n,p),B(m,n,null),c(n,y),c(n,x),c(n,b),B(k,n,null),c(n,_),c(n,A),c(n,E),B(L,n,null),c(e,j),c(e,C),B(M,C,null),R=!0},p(t,[e]){const n={};!i&&1&e&&(i=!0,n.data=t[0],T((()=>i=!1))),a.$set(n);const r={};!h&&2&e&&(h=!0,r.data=t[1],T((()=>h=!1))),m.$set(r);const o={};!w&&4&e&&(w=!0,o.data=t[2],T((()=>w=!1))),k.$set(o);const s={};!O&&8&e&&(O=!0,s.data=t[3],T((()=>O=!1))),L.$set(s);const c={};1&e&&(c.LeftAxis=t[0]),2&e&&(c.RightAxis=t[1]),4&e&&(c.Observations=t[2]),8&e&&(c.Treatments=t[3]),M.$set(c)},i(t){R||(P(a.$$.fragment,t),P(m.$$.fragment,t),P(k.$$.fragment,t),P(L.$$.fragment,t),P(M.$$.fragment,t),R=!0)},o(t){N(a.$$.fragment,t),N(m.$$.fragment,t),N(k.$$.fragment,t),N(L.$$.fragment,t),N(M.$$.fragment,t),R=!1},d(t){t&&l(e),D(a),D(m),D(k),D(L),D(M)}}}function $t(t,e,n){var r={legend:"Värde - ddPCR",tables:[{x:["2020-01-01","2020-01-15","2020-01-28"],y:[1,5,6],name:"ddPCR"}]},o={legend:"Värde - LD",tables:[{x:["2020-01-01","2020-01-15","2020-02-01"],y:[2,7,5],name:"LD"}]},a=[{name:"A",time:"2020-01-03"},{name:"B",time:"2020-01-18"}],i=[{name:"Taf",start:"2020-01-05",end:"2020-01-14"},{name:"Taf+Mek",start:"2020-01-14",end:"2020-01-20"},{name:"Taf",start:"2020-01-20",end:"2020-02-02"}];return[r,o,a,i,function(t){n(0,r=t)},function(t){n(1,o=t)},function(t){n(2,a=t)},function(t){n(3,i=t)}]}return new class extends F{constructor(t){super(),Y(this,t,$t,dt,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
